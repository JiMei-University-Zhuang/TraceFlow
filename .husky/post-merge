#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# æ£€æŸ¥æ˜¯å¦æœ‰ä¾èµ–æ–‡ä»¶çš„æ›´æ”¹
if git diff HEAD@{1} --name-only | grep -q "^package-lock.json\|^yarn.lock\|^pnpm-lock.yaml"; then
  echo "ğŸ“¦ æ£€æµ‹åˆ°ä¾èµ–æ–‡ä»¶æœ‰æ›´æ–°ï¼Œæ­£åœ¨å®‰è£…æ–°çš„ä¾èµ–..."
  pnpm install
fi

# æ£€æŸ¥æ˜¯å¦æœ‰é…ç½®æ–‡ä»¶çš„æ›´æ”¹
if git diff HEAD@{1} --name-only | grep -q "^.env\|^.env.*\|^config/"; then
  echo "âš™ï¸ æ£€æµ‹åˆ°é…ç½®æ–‡ä»¶æœ‰æ›´æ–°ï¼Œè¯·æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°æœ¬åœ°é…ç½®"
fi
